
# Introduction üî∞
–í—Å–µ—Ö –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é! –ü–æ–∑–¥—Ä–∞–≤–ª—è—é –≤–∞—Å, —á—Ç–æ –≤—ã —Ö–æ—Ä–æ—à–æ —Å–¥–∞–ª–∏ –¢–ó –∏ –ø—Ä–æ—à–ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é 
–¢–µ–ø–µ—Ä—å –≤—ã —è–≤–ª—è–µ—Ç–µ—Å—å –ø–æ—á—Ç–∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º–∏ —á–ª–µ–Ω–∞–º–∏ –∫–æ–º–∞–Ω–¥—ã Android –≤ GeekStudio. 
–û–¥–Ω–∞–∫–æ, —Ç–æ —á—Ç–æ –≤—ã –ø—Ä–æ—à–ª–∏ –¥–æ —ç—Ç–æ–≥–æ, –µ—â–µ –Ω–µ –∫–æ–Ω–µ—Ü –≤—Å–µ—Ö –∏—Å–ø—ã—Ç–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –≤–∞—Å –∂–¥—É—Ç –≤–ø–µ—Ä–µ–¥–∏.
–Ø –∏ –ê–ª—å–±–µ—Ä—Ç –±—É–¥–µ–º –∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å –≤–∞—Å –ø–æ –º–∞–∫—Å–∏–º—É–º—É, –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—è –≤–∞—Å –∫ –Ω–æ–≤—ã–º, –Ω–µ–∏–∑–≤–µ–¥–∞–Ω–Ω—ã–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–º Android Development'a.

–ó–∞ –∫–∞–∂–¥—ã–º –∏–∑ –≤–∞—Å –±—É–¥–µ—Ç –∑–∞–∫—Ä–µ–ø–ª–µ–Ω –º–µ–Ω—Ç–æ—Ä (–¢–∏–º—É—Ä –∏–ª–∏ –ê–ª—å–±–µ—Ä—Ç), –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–ª–µ–¥–∏—Ç—å –∑–∞ –≤–∞—à–∏–º –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º,
—Ä–µ–≤—å—é–≤–∏—Ç—å –∫–æ–¥, –æ–±—Å—É–∂–¥–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –∏ –ø–æ–º–æ–≥–∞—Ç—å.

–≠—Ç–æ –±—É–¥–µ—Ç –≤–∞—à–µ –ø–µ—Ä–≤–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ, –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ—Å—å —Å–æ –≤—Å–µ–º —Ç–µ–º,
—á—Ç–æ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –ø—Ä–∏—Å—Ç—É–ø–∏–ª–∏ –∫ —Ç–µ—Å—Ç–æ–≤–æ–º—É –∑–∞–¥–∞–Ω–∏—é, –ø–∏—à–∏—Ç–µ –≤–∞—à–µ–º—É –∫—É—Ä–∞—Ç–æ—Ä—É –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∞—Å–∫–∞. 
–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –≤–æ–ø—Ä–æ—Å—ã –ø–∏—à–∏—Ç–µ –µ–º—É.
	
## Technical Task #1 üìù
–í—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π Kitsu API –∫–∞–∫ –±—ç–∫—ç–Ω–¥.
–ü–æ —Ö–æ–¥—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏–π, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –Ω–∞–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–æ–≤—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º.
–ü–æ –æ–∫–æ–Ω—á–∞–Ω–∏—é –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏–π, –≤—ã –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã –ø–æ–∫–æ—Ä—è—Ç—å –Ω–æ–≤—ã–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã.

 –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–≤ —Å–ª–µ–¥—É—é—â–µ–µ : 
 
     - –≠–∫—Ä–∞–Ω —Å Tab Layout, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ 3 —Ç–∞–±–æ–≤ : 
                     - RecyclerView —Å –ê–Ω–∏–º–µ
                     - RecyclerView —Å –ú–∞–Ω–≥–æ–π
                     - RecyclerView —Å –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏                                                                                                                                                      
     - –î–∏–∑–∞–π–Ω –±—Ä–∞—Ç—å —Å Kitsu –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è()

	
- [API documentation](https://kitsu.docs.apiary.io/#)
- [Kitsu App](https://play.google.com/store/apps/details?id=com.everfox.animetrackerandroid) (–æ—Ç–∫—É–¥–∞ –Ω–∞–¥–æ –±—Ä–∞—Ç—å –¥–∏–∑–∞–π–Ω)
- [–ü—Ä–æ–µ–∫—Ç-–ø—Ä–∏–º–µ—Ä –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è buildSrc + Kotlin DSL](https://github.com/Clar1fy/CryptocurrencyApp)

	
## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º üë®üèª‚Äçüíª
 - Kotlin + Kotlin code style 
 - Single Activity + Clean Architecture + MVVM
 - Koin 
 - Modularization
 - Retrofit + OkHTTP
 - Paging 3 
 - Kotlin DSL (BuildSrc)
 - Powerful .gitignore
 - Kotlin coroutines + Flow
 - ViewPager2
 - Navigation Component
 - Material Design ( Material Components only )

![](https://lh4.googleusercontent.com/hS2EL300U9ZcL83YJmexY_p-aU42N6Ai5IP63hvlJLDrrbVAeyqFU5nAksR4GyPt94YHSaB9fHaKESlOyWcICZ9gU7nfj45zgL_lo0TeWCibWbwibVjq0QYToBSaVhxLdPsy7MUNcsU4YB_xHYPEvRk)
## Powerful .gitignore ü¶æ 
```:.gitignore
### Android template
# Built application files
*.apk
*.aar
*.ap_
*.aab

# Files for the ART/Dalvik VM
*.dex

# Java class files
*.class

# Generated files
bin/
gen/
out/
#  Uncomment the following line in case you need and you don't have the release build type files in your app
# release/

# Gradle files
.gradle/
build/

# Local configuration file (sdk path, etc)
local.properties

# Proguard folder generated by Eclipse
proguard/

# Log Files
*.log

# Android Studio Navigation editor temp files
.navigation/

# Android Studio captures folder
captures/

# IntelliJ
/.idea
*.iml
.idea/workspace.xml
.idea/tasks.xml
.idea/gradle.xml
.idea/assetWizardSettings.xml
.idea/dictionaries
.idea/libraries
# Android Studio 3 in .gitignore file.
.idea/caches
.idea/modules.xml
# Comment next line if keeping position of elements in Navigation Editor is relevant for you
.idea/navEditor.xml

# Keystore files
# Uncomment the following lines if you do not want to check your keystore files in.
#*.jks
#*.keystore

# External native build folder generated in Android Studio 2.2 and later
.externalNativeBuild
.cxx/

# Google Services (e.g. APIs or Firebase)
# google-services.json

# Freeline
freeline.py
freeline/
freeline_project_description.json

# fastlane
fastlane/report.xml
fastlane/Preview.html
fastlane/screenshots
fastlane/test_output
fastlane/readme.md

# Version control
vcs.xml

# lint
lint/intermediates/
lint/generated/
lint/outputs/
lint/tmp/
# lint/reports/

# Android Profiling
*.hprof

#MacOSX
**/.DS_Store
```

## Outroduction 
–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∞—Å–∫–∞, –∑–∞–ª–∏–≤–∞–µ—Ç–µ –Ω–∞ GitHub –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –≤–∞—à–µ–º—É –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–Ω–æ–º—É –∫—É—Ä–∞—Ç–æ—Ä—É

## Technical Task #2 - Advanced Filtering & Sorting üìù
–ö–∞–∫ –≤–∞–º Kitsu ? –ù—Ä–∞–≤–∏—Ç—Å—è ? –î–∞, —Å–ª–æ–∂–Ω–æ –∏ –¥–æ–ª–≥–æ, –º—É—Ç–æ—Ä–Ω–æ. –ù–æ –æ–Ω–æ —Ç–æ–≥–æ —Å—Ç–æ–∏—Ç, —Ç–∞–∫ –∫–∞–∫ –≤ –±—É–¥—É—â–µ–º –≤—Å–µ —Å —á–µ–º –≤—ã —Å—Ç–∞–ª–∫–∏–≤–∞–µ—Ç–µ—Å—å —Å–µ–π—á–∞—Å –ø–æ–º–æ–∂–µ—Ç –≤–∞–º.
	
–í —ç—Ç–æ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º –∑–∞–¥–∞–Ω–∏–∏ –º—ã –æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π.
–î–ª—è –Ω–∞—á–∞–ª–∞, –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —Ñ–∏–ª—å—Ä–∞—Ü–∏—é –∏ –µ–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫–µ—É–º–µ–Ω—Ç–∞—Ü–∏–∏. 
` https://kitsu.docs.apiary.io/#introduction/json-api/filtering-and-search`
–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@Query` –ø–∞—Ä–∞–º–µ—Ç—Ä.
   **–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∞–Ω–∏–º–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º**
```kotlin:AnimeApiService.kt
@GET("anime")
    suspend fun fetchAnime(
        @Query("page[limit]") pageLimit: Int,
        @Query("page[offset]") pageOffset: Int,
        @Query("filter[categories]") category: String
    ): AnimeListDto
```
–ß—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–∞—Å–∫, –≤–∞–º –Ω–∞–¥–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä-–∫–Ω–æ–ø–∫—É –≤ Toolbar, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –≤–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –ê–Ω–∏–º–µ –∏ –ú–∞–Ω–≥–∏.
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ —Ñ–∏–ª—å—Ç—Ä-–∫–Ω–æ–ø–∫—É, –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥—É—Ç —Å—Ç—è–≥–∏–≤–∞—Ç—å—Å—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ `endpoint`  
`https://kitsu.io/api/edge/categories`
	
1. –ü–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–∞ –ê–Ω–∏–º–µ –∏–ª–∏ –ú–∞–Ω–≥—É, –¥–∏–∞–ª–æ–≥ –±—É–¥–µ—Ç –∑–∞–∫—Ä—ã–≤–∞—Ç—å—Å—è.
2. –¢–∞–∫–∂–µ –±—É–¥–µ—Ç –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –ø–æ –Ω–∞–∂–∞—Ç–∏—é –∫–æ—Ç–æ—Ä–æ–π –±—É–¥—É—Ç —Å—Ç—è–≥–∏–≤–∞—Ç—å—Å—è –≤—Å–µ –ê–Ω–∏–º–µ –∏ –ú–∞–Ω–≥–∏ –±–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
## Technical Task #3 üìù
–ü–æ–∑–¥—Ä–∞–≤–ª—è—é –≤–∞—Å —Å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ–º –≤—Ç–æ—Ä–æ–≥–æ —ç—Ç–∞–ø–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è. –ö–∞–∫ –≤–∞–º –º–∞–ø–ø–∏–Ω–≥ ? –î–æ–ª–≥–æ ? –ù–∏—á–µ–≥–æ, —Å–∞–º–æ–µ –¥–æ–ª–≥–æ–µ –∏ –º—É—Ç–æ—Ä–Ω–æ–µ –ø–æ–∑–∞–¥–∏. 
	
–í –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è, –≤—ã –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ—Å—å —Å –ø—Ä–æ—Ü–µ—Å—Å–æ–º –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—è ``OAuth 2.0``, –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤—Ö–æ–¥–∞.
	
–ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ endpoint `https://kitsu.io/api/oauth/token` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º `@Body`
```json
{
  "grant_type": "password", 
  "username": "timplifier@gmail.com" // –Æ–∑–µ—Ä–Ω–µ–π–º –¥–ª—è –≤—Ö–æ–¥–∞,
  "password": "2281337abd" // –ü–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞
}
```
–º—ã –ø–æ–ª—É—á–∏–º –Ω–∞—à —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–π `AuthenticationDto`, —Ö—Ä–∞–Ω—è—â–∏–π –≤ —Å–µ–±–µ —Å–ª–µ–¥—É—é—â–µ–µ : 
```json
{
    "access_token": "EgLdmpYr5TRe0J3F84", // Access Token
    "token_type": "Bearer", // –¢–∏–ø Access Token'a
    "expires_in": 2586900, // –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ (30 –¥–Ω–µ–π –ø–æ –¥–µ—Ñ–æ–ª—Ç—É)
    "refresh_token": "IvtY_EWUpzlF6OSZtT5Vja" // Refresh Token,
    "scope": "public",
    "created_at": 1678093440
}
```
–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—Ö–æ–¥–µ, –≤–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å User'a –∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –µ–≥–æ –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω. –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –≤—Ö–æ–¥–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —é–∑–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –≤–æ—à–µ–ª –≤ –∞–∫–∫–∞—É–Ω—Ç. –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é **Flow Fragment**, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∏–∑—É—á–∏—Ç–µ, –ø—Ä–æ—á–∏—Ç–∞–≤ —Å—Ç–∞—Ç—å–∏ –≤—ã—à–µ.

## –°—Ç–∞—Ç—å–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è  üìÑ
- https://habr.com/ru/post/654599/
- https://habr.com/ru/post/667026/
- https://habr.com/ru/post/673180/
	
## Technical Task #4 - Deep @POST request diving üìù
–ú–∞–ø–ø–∏–Ω–≥, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–∑–∞–¥–∏. –û—Å—Ç–∞–ª–æ—Å—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ, –Ω–æ –Ω–µ –º–µ–Ω–µ —Å–ª–æ–∂–Ω–æ–µ - `@POST` –∑–∞–ø—Ä–æ—Å—ã. –°–∞–º –ø–æ —Å–µ–±–µ `@POST` –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∏—Å–ø–æ–ª—å–∑—É—è `@Body` –ø–∞—Ä–∞–º–µ—Ç—Ä, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –∑–∞–∫–∏–Ω—É—Ç—å Raw Body, —Å–æ—Å—Ç–æ—è—é—â–∏–π –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∏–∑ `JSON`. 
–í –¥–∞–Ω–Ω–æ–º —Ç–∞—Å–∫–µ –≤—ã –¥–æ–ª–∂–Ω—ã –±—É–¥–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —é–∑–µ—Ä—ã –ø–æ—Å—Ç–∏—Ç—å –ø–æ—Å—Ç—ã, –∫–∞–∫ –≤ Twitter, Instagram –∏ —Ç.–ø.
–ú—ã —Ö–æ—Ç–∏–º –æ—Ç –≤–∞—Å —Å–ª–µ–¥—É—é—â–∏–π –¥–∏–∑–∞–π–Ω : 
 1. –í TabLayout –¥–æ–±–∞–≤–∏—Ç—Å—è 4 —Ç–∞–± - Posts, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥—É—Ç —Å—Ç—è–≥–∏–≤–∞—Ç—å—Å—è –≤—Å–µ –ø–æ—Å—Ç—ã –ø–æ endpoint `https://kitsu.io/api/edge/posts`. –î–∏–∑–∞–π–Ω : 
![](https://i.imgur.com/xoQYltX.jpg)
 2. –ï—Å–ª–∏ –ø–æ—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç `spoiler` (–≤ –º–æ–¥–µ–ª—å–∫–µ `spoiler = true`), —Ç–æ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ—Å—Ç–∞ –∑–∞–≥–ª—É—à–∫–æ–π.  ![](https://i.imgur.com/n4abgai.jpg)
 –ü–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –∑–∞–≥–ª—É—à–∫—É, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ—Å—Ç–∞.
 3. Bottom Navigation c –∫–Ω–æ–ø–∫–Ω–æ–π "+" –ø–æ —Å–µ—Ä–µ–¥–∏–Ω–µ 
 ![](https://i.imgur.com/Wuzvw7Y.jpeg)
 4. –ü–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ "+" –ø–µ—Ä–µ–∫–∏–¥—ã–≤–∞–µ—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —ç–∫—Ä–∞–Ω : ![](https://i.imgur.com/tuS7hgp.jpg)
 5. –ü–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –∫–Ω–æ–ø–∫—É "Post" –≤ Toolbar, –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å `@POST` –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞, –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ –ø–æ—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç `NSFW` –∫–æ–Ω—Ç–µ–Ω—Ç –∏–ª–∏ –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç `Spoiler`. –ö–∞–∫ –ø–æ—Å—Ç –±—ã–ª —Å–æ–∑–¥–∞–Ω, –Ω–∞–≤–∏–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–∞–¥. 

 –ß—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞, –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ –≤ `@Body` –Ω–∞ `https://kitsu.io/api/edge/posts`
```json
{
    "data": {
        "attributes": {
            "content": "sdfsdf", // –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ—Å—Ç–∞
            "nsfw": false, // –°–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ NSFW –∫–æ–Ω—Ç–µ–Ω—Ç
            "spoiler": false // –Ø–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ—Å—Ç —Å–ø–æ–π–ª–µ—Ä–æ–º
        },
        "relationships": {
            "user": {
                "data": {
                    "type": "users",
                    "id": "1307864" // id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                }
            },
            "uploads": {
                "data": []
            }
        },
        "type": "posts"
    }
}
```
–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ : 
```kotlin:UserApiService.kt
    @POST("posts")
    suspend fun createPost(@Body createPostDto: CreatePostDto)
```
## Technical Task #5 - No more BuildSrc üìù
**–°–∏–ª—å–Ω–æ**, –µ—Å–ª–∏ –¥–æ—à–µ–ª –¥–æ —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞, –Ω–∞–≤–µ—Ä–Ω–æ–µ –∑–∞–±—ã–ª —É–∂–µ –ø—Ä–æ **`buildSrc`**, –¥–∞ ? **`buildSrc`** 
—ç—Ç–æ –≤—Å–µ–≥–æ –æ–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ –≥—Ä–∞–º–æ—Ç–Ω–æ–≥–æ **`Dependency Management`** –¥–ª—è –º–Ω–æ–≥–æ–º–æ–¥—É–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤. 
–í —ç—Ç–æ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º –∑–∞–¥–∞–Ω–∏–∏ –≤—ã —É–∑–Ω–∞–µ—Ç–µ –ø—Ä–æ –µ—â–µ –æ–¥–∏–Ω, —á—É—Ç—å —Å–ª–æ–∂–Ω–µ–µ, –Ω–æ —Å–∞–º—ã–π —É–¥–æ–±–Ω—ã–π  - `Version Catalog`.
–ü–æ—Å–º–æ—Ç—Ä–µ–≤ –Ω–∞ **–¥–∏–∞–≥—Ä–∞–º–º—É** –Ω–∏–∂–µ, –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–Ω—è—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ –≤–∞–∂–µ–Ω `Dependency Management` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.
```mermaid
classDiagram 
buildSrc <|-- Data
buildSrc <|-- Domain
buildSrc <|-- Presentation
buildSrc: Dependencies
class Domain {
    Kotlin
    Coroutines Core 
    Javax
}
class Data {
    Retrofit + OkHTTP
    Javax / Koin
    Room
    GSON
    Coroutines
}
class Presentation {
    UI Components
    ViewModels
    Navigation Component
    ...
}
```
–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç, –≤–∞—à **`app build.gradle.kts`** –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ –≤–æ—Ç —Ç–∞–∫: 
```groovy:app build.gradle.kts
Dependencies {

    // UI Components
    implementation(Dependencies.UIComponents.appCompat)
    implementation(Dependencies.UIComponents.material)
    implementation(Dependencies.UIComponents.constraintLayout)
    implementation(Dependencies.UIComponents.viewBindingPropertyDelegate)

    // Core
    implementation(Dependencies.Core.core)

    // Activity
    implementation(Dependencies.Activity.activity)

    // Fragment
    implementation(Dependencies.Fragment.fragment)

    // Lifecycle
    implementation(Dependencies.Lifecycle.runtime)
    implementation(Dependencies.Lifecycle.viewModel)
    implementation(Dependencies.Lifecycle.liveData)

    // Navigation
    implementation(Dependencies.Navigation.fragment)
    implementation(Dependencies.Navigation.ui)
    
    // Glide
    implementation(Dependencies.Glide.glide)

    // Retrofit
    implementation(Dependencies.Retrofit.retrofit)
    implementation(Dependencies.Retrofit.converterGson)

    // OkHttpClient
    implementation(Dependencies.OkHttp.loggingInterceptor)
    implementation(Dependencies.OkHttp.okHttp)
    implementation(Dependencies.OkHttp.bom)

    // Koin
    implementation(Dependencies.Koin.koinAndroid)


    // Glide
    implementation(Dependencies.Glide.glide)


    // SplashScreen
    implementation(Dependencies.SplashScreen.splashScreen)

    // Room with coroutines
    implementation(Dependencies.Room.runtime)
    implementation(Dependencies.Room.supportKotlinExtensionsAndCoroutines)
    kapt(Dependencies.Room.compiler)
```

–ù—É —É–∂ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ `implementation`, –∑–∞–Ω–∏–º–∞—é—â–∏–µ –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞, –º–∞–∑–æ–ª—è—â–∏–µ –≥–ª–∞–∑–∞.
–ê —Ç–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ –≤–∞—à –±–ª–æ–∫ `dependencies` –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```groovy:app build.gradle.kts
dependencies {
    implementation(core)
    implementation(domain)
    implementation(feature_chat)
    implementation(coreUi)
    implementation(feature_auth)
    implementation(featurePostAnAd)

    implementation(deps.circleImageView)

    implementation(deps.jetpackNavigation.uiNavigation)
    implementation(deps.jetpackNavigation.fragmentNavigation)

    implementation(deps.koin.android)
    implementation(deps.koin.navigation)
    implementation(deps.timber)
    implementation(deps.arrow.core)

    implementation(deps.squareup.gsonConverter)

    implementation(deps.uCrop)
    implementation(deps.imagePicker)
    implementation(deps.glide)

    implementation(deps.paging3.androidPaging)

    implementation(deps.shimmer)

    implementation(deps.view.maskedEdt)
    implementation(deps.flexBoxLayout)

    implementation(deps.kotlin)
    implementation(deps.androidx.material)
    implementation(deps.androidx.appCompat)
    implementation(deps.androidx.constraintLayout)
    implementation(deps.androidx.coreKtx)
    implementation(deps.androidx.recyclerView)
    implementation(deps.androidx.swipeRefreshLayout)
    implementation(deps.lifecycle.commonJava8)
    implementation(deps.lifecycle.runtimeKtx)
    implementation(deps.lifecycle.viewModelKtx)
    implementation("com.markodevcic:peko:2.1.4")

    implementation("androidx.legacy:legacy-support-v4:1.0.0")
    implementation("com.github.YarikSOffice:lingver:1.3.0")
    // RxJava
    implementation("io.reactivex.rxjava2:rxjava:2.2.19")
    implementation("io.reactivex.rxjava2:rxandroid:2.1.1")
    implementation(project(mapOf("path" to ":data")))
    implementation("androidx.recyclerview:recyclerview-selection:1.1.0")
    implementation("androidx.appcompat:appcompat:1.4.1")

    // Firebace
    platform("com.google.firebase:firebase-bom:29.2.0")
    implementation("com.google.firebase:firebase-firestore-ktx")
    implementation("com.google.firebase:firebase-core")

    implementation(deps.stfalconImageViewer)

    //MapKit
    implementation("com.yandex.android:maps.mobile:4.0.0-full")

    // Decoro
    implementation(deps.Tinkoff.decoro)
    // Google Play Service
    implementation(deps.firebase.playService)
}
```
–ò —ç—Ç–æ **–≤—Å–µ–≥–æ-–ª–∏—à—å –æ–¥–∏–Ω –º–æ–¥—É–ª—å**, –∞ –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —É –Ω–∞—Å —Ç–∞–∫–∏—Ö 20, –º–æ–∂–µ—Ç 30.
–°—É–º–º–∏—Ä—É—è —ç—Ç–∏ –≤—Å–µ –º–æ–¥—É–ª–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π 
–±—É–¥–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∑–∞ **—Å–æ—Ç–Ω–∏** –∏ –¥–∞–∂–µ **—Ç—ã—Å—è—á–∏**.
***
–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç, –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–ø–∏—Å–∞—Ç—å **`implementation`** **6 —Ä–∞–∑**, –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å –≤—Å–µ **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**.
```groovy: app build.gradle.kts
...
dependencies {
    // UI Components
    implementation(Dependencies.UIComponents.appCompat)
    implementation(Dependencies.UIComponents.material)
    implementation(Dependencies.UIComponents.constraintLayout)
    implementation(Dependencies.UIComponents.viewBindingPropertyDelegate)
    implementation(Dependencies.Glide.glide)
    implementation(Dependencies.SplashScreen.splashScreen)
}
```
–≠—Ç–æ –º–Ω–æ–≥–æ, –≤—Å–µ–≥–æ –ª–∏—à—å –¥–ª—è UI Components, –ø–æ–º–∏–º–æ —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –µ—â–µ **`Hilt/Koin`**, 
–≤–æ–∑–º–æ–∂–Ω–æ **`Google Maps / Yandex Map Kit`**, –∫–æ—Ç–æ—Ä—ã–µ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å —Ç–æ–∂–µ –±—É–¥—É—Ç –∑–∞–Ω–∏–º–∞—Ç—å –ø–æ 2-3 —Å—Ç—Ä–æ—á–∫–∏.
–ê —Ç–µ–ø–µ—Ä—å, –∫–∞–∫ –≤–∞–º —Ç–∞–∫–æ–µ?:
```groovy:app build.gradle.kts
    // UI Components
    implementation(libs.bundles.uiComponents)
```
–ù—É –Ω–µ —á—É–¥–Ω–æ –ª–∏? –í—Å–µ–≥–æ —Ç–æ –æ–¥–Ω–∞ **—Å—Ç—Ä–æ—á–∫–∞ –∑–∞–º–µ–Ω—è–µ—Ç 6 `implementation`**, 
–Ω–æ –ø—Ä–∏ —ç—Ç–æ–º —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –≤—Å–µ —Ç–æ, —á—Ç–æ –¥–µ–ª–∞—é—Ç **6**. 
–í —ç—Ç–æ–º –∏ –∫—Ä–æ–µ—Ç—Å—è –≤—Å—è —Å–∏–ª–∞ **`Version Catalog`**
***
–ù—É —á—Ç–æ–∂, –æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **`Version Catalog`**
**`Version Catalog`** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `.toml` –∫–∞–∫ —è–∑—ã–∫, –µ–≥–æ –Ω–∞–º –∏ –Ω–∞–¥–æ –∏–∑—É—á–∏—Ç—å.
## **Version Catalog Introduction** - `Versions` + `Libraries`
–ü–µ—Ä–≤–æ–µ, —á—Ç–æ –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å, —ç—Ç–æ —Å–æ–∑–¥–∞—Ç—å –Ω–∞—à —Ñ–∞–π–ª –≤ `gradle` –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
( –ü—Ä–∞–≤–∞—è –∫–Ω–æ–ø–∫–∞ –º—ã—à–∏ -> New -> File ) –∏ –Ω–∞–∑–≤–∞—Ç—å –µ–≥–æ `libs.versions.toml`

![](https://i.imgur.com/rxaV19H.png)

–í—Ç–æ—Ä–æ–µ, —á—Ç–æ –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å, —ç—Ç–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **`Version Catalog`**.
–ú—ã –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –Ω–∞—à **`settings.gradle`** –Ω–∞ **`settings.gradle.kts`**
  
```groovy:settings.gradle.kts
pluginManagement {
    repositories {
        gradlePluginPortal()
        google()
        mavenCentral()

        maven { url = uri("https://jitpack.io") }
    }
}

enableFeaturePreview("VERSION_CATALOGS")
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.PREFER_SETTINGS)
    repositories {
        google()
        mavenCentral()
        maven("bla-bla")
        maven { url = uri("https://jitpack.io") }
    }
}

rootProject.name = "My Application"
include(":app")
```
–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ –ø–µ—Ä–≤—ã–π –ø—É–Ω–∫—Ç, –¥–∞–≤–∞–π—Ç–µ –≤–∑–≥–ª—è–Ω–µ–º –Ω–∞ —ç—Ç–æ—Ç –∫—É—Å–æ–∫ –∫–æ–¥–∞:
```toml:libs.versions.toml
[versions]
kotlin = "1.7.20"
[libraries]

#Kotlin
kotlin = { module = "org.jetbrains.kotlin:kotlin-gradle-plugin", version.ref = "kotlin" }
```
–° –ø–æ–º–æ—â—å—é **`[versions]`** –º—ã –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —è–≤–ª—è—é—Ç—Å—è `String`. 
–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ `kotlin` –∫–∞–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `"1.7.20"`, –æ–Ω–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤–µ—Ä—Å–∏–∏.
–î–∞–ª–µ–µ, –≤ –±–ª–æ–∫e **`[libraries]`** –º—ã —Å–æ–∑–¥–∞–¥–∏–º **`kotlin`** –∫–∞–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫—É, 
–æ—Ç–∫—Ä—ã–≤ —Ñ–∏–≥—É—Ä–Ω—ã–µ —Å–∫–æ–±–∫–∏ –∏ –Ω–∞–ø–∏—Å–∞–≤ **`module = "org.jetbrains.kotlin:kotlin-gradle-plugin"`**
–º—ã –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –∞ –∫–∞–∫ –≤–µ—Ä—Å–∏—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ **`kotlin`** —Å –±–ª–æ–∫–∞ **`[versions]`**,
—É–∫–∞–∑–∞–≤ –Ω–∞ –Ω–µ–µ –∫–∞–∫ **`version.ref = "kotlin"`**
–¢–µ–ø–µ—Ä—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–µ:
```groovy:build.gradle.kts
... 
dependencies {
    implementation(libs.kotlin)
}
```
–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, –≤—ã –≤–Ω–µ–¥—Ä–∏–ª–∏ —Å–≤–æ—é –ø–µ—Ä–≤—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É, –∏—Å–ø–æ–ª—å–∑—É—è **`Version Catalog`**, –ª–µ–≥–∫–æ, –Ω–µ –ø—Ä–∞–≤–¥–∞-–ª–∏ ? 
–ù–æ —ç—Ç–æ –µ—â–µ –Ω–µ –≤—Å–µ, —á—Ç–æ –º–æ–∂–µ—Ç –¥–µ–ª–∞—Ç—å `**Version Catalog**`, –¥–∞–≤–∞–π—Ç–µ –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ!
## **Version Catalog Deep Diving I** - `Libraries division into groups`
–í—ã –æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å —Ç–µ–º, –∫–∞–∫ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≤–µ—Ä—Å–∏–∏ –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –≤–Ω–µ–¥—Ä—è—Ç—å –∏—Ö, 
–æ–¥–Ω–∞–∫–æ, —á—Ç–æ –µ—Å–ª–∏ —É –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫–æ—Ç–æ—Ä—É—é –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–Ω–µ–¥—Ä–∏—Ç—å, –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–µ–π?
–í–æ–∑—å–º–µ–º –Ω–∞–ø—Ä–∏–º–µ—Ä `Retrofit`:
- Retrofit
- Converter GSON
- Moshi Converter
  
–î–æ–ø—É—Å—Ç–∏–º —è —Ö–æ—á—É –≤–∑—è—Ç—å —É `Retrofit` —Ç–æ–ª—å–∫–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `Converter GSON`,
–∏ —è —Ö–æ—á—É —á—Ç–æ–±—ã —ç—Ç–æ –≤—ã–≥–ª—è–¥–µ–ª–æ –≤–æ—Ç —Ç–∞–∫: 
```groovy:data build.gradle.kts
... 
dependencies {
    implementation(libs.retrofit.gsonConverter)
}
```
–í—Å–µ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ: 
```toml:libs.versions.toml
[versions]
...
retrofit = "2.9.0"
[libraries]
...
#Retrofit
retrofit-retrofit = { module = "com.squareup.retrofit2:retrofit", version.ref = "retrofit" }
retrofit-gsonConverter = { module = "com.squareup.retrofit2:converter-gson", version.ref = "retrofit" }
retrofit-moshiConverter = { module = "com.squareup.retrofit2:converter-moshi", version.ref = "retrofit" }
```
–¢–µ–ø–µ—Ä—å, —è –º–æ–≥—É –ø–æ–¥–∫–ª—é—á–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `Retrofit` –æ–±—Ä–∞—â–∞—è—Å—å –∫ –Ω–µ–º—É —á–µ—Ä–µ–∑ `.`, –∫–∞–∫ –±—É–¥—Ç–æ —ç—Ç–æ –∫–ª–∞—Å—Å: 
```groovy:data build.gradle.kts
... 
dependencies {
    implementation(libs.retrofit.retrofit)
    implementation(libs.retrofit.gsonConverter)
    implementation(libs.retrofit.moshiConverter)
}
```
**`retrofit`** –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —è–≤–ª—è–µ—Ç—Å—è –≥—Ä—É–ø–ø–æ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∏ —á–µ—Ä–µ–∑ **`-`** –º—ã –∏—Ö –¥—Ä–æ–±–∏–º –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏,
–æ–±—Ä–∞—â–∞—è—Å—å –∫ –∫–∞–∂–¥–æ–π —á–µ—Ä–µ–∑ `.` –¢–æ –µ—Å—Ç—å, —Å–ª–æ–≤–æ –ø–æ—Å–ª–µ **`-`** —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—à–µ–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é.
  
–ù–∏—á–µ–≥–æ –Ω–µ –º–µ—à–∞–µ—Ç –Ω–∞–º —Å–¥–µ–ª–∞—Ç—å –≤–æ—Ç —Ç–∞–∫:
```toml:libs.versions.toml
[versions]
...
retrofit = "2.9.0"
[libraries]
...
#Retrofit
retrofit-retrofit-realRetrofit = { module = "com.squareup.retrofit2:retrofit", version.ref = "retrofit" }
retrofit-gsonConverter = { module = "com.squareup.retrofit2:converter-gson", version.ref = "retrofit" }
retrofit-moshiConverter = { module = "com.squareup.retrofit2:converter-moshi", version.ref = "retrofit" }
```

```groovy:data build.gradle.kts
... 
dependencies {
    implementation(libs.retrofit.retrofit.realRetrofit)
    implementation(libs.retrofit.gsonConverter)
    implementation(libs.retrofit.moshiConverter)
}
```
## **Version Catalog Deep Diving II** - `Bundles`
–ú—ã —É–∂–µ –æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –≤–µ—Ä—Å–∏–π, –±–∏–±–ª–∏–æ—Ç–µ–∫, –¥—Ä–æ–±–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ –Ω–∞ –≥—Ä—É–ø–ø—ã, 
—ç—Ç–æ –∂–µ –Ω–µ —Ç–∞–∫ —Å–ª–æ–∂–Ω–æ,
–∫–∞–∫ –≤—ã –º–æ–≥–ª–∏ –ø–æ–¥—É–º–∞—Ç—å, –≤–µ—Ä–Ω–æ? –¢–µ–ø–µ—Ä—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ç–æ, –∑–∞ —á—Ç–æ –º—ã –ª—é–±–∏–º **`Version Catalog`** - **`Bundles`**
  
**`Bundles`** - –Ω–∞–±–æ—Ä –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –æ–¥–Ω–∏–º `implementation` –∑–∞–≥—Ä—É–∂–∞—Ç—å
—Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
```groovy:data build.gradle.kts
...
dependencies {
    ...
    // Retrofit
    implementation(libs.retrofit.retrofit)
    implementation(libs.retrofit.gsonConverter)

    // OkHttp
    implementation(libs.okHttp.bom)
    implementation(libs.okHttp.loggingInterceptor) 
    implementation (libs.okHttp.okHttp)
}
```
–°–µ–π—á–∞—Å, —á—Ç–æ–±—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å `Retrofit` –∏ `OkHttp` —É—Ö–æ–¥–∏—Ç 5 `implementation`.
–û–¥–Ω–∞–∫–æ, –¥–æ–±–∞–≤–∏–≤ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ **`Bundles`**, –Ω–∞—à –∫–æ–¥ —Ç–µ–ø–µ—Ä—å –≤—ã–≥–ª—è–¥–∏—Ç –≤–æ—Ç —Ç–∞–∫:
```groovy:data build.gradle.kts
dependencies {
     ...
    // Retrofit
    implementation(libs.bundles.retrofit)

    // OkHttp
    implementation(libs.bundles.okHttp)
}
```
5 `implementation` –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª–æ—Å—å –≤ 2, –º–∞–≥–∏—è, –Ω–µ —Ç–∞–∫-–ª–∏?
–í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤—Å–µ —ç—Ç–æ –≤ –Ω–∞—à–µ–º —Ñ–∞–π–ª–µ **`libs.versions.toml`**
```toml:libs.versions.toml
[versions]
...
#Retrofit
retrofit = "2.9.0"

#OkHttp
okHttp = "5.0.0-alpha.10"

[libraries]
...
#Retrofit
retrofit-retrofit = { module = "com.squareup.retrofit2:retrofit", version.ref = "retrofit" }
retrofit-gsonConverter = { module = "com.squareup.retrofit2:converter-gson", version.ref = "retrofit" }
retrofit-moshiConverter = { module = "com.squareup.retrofit2:converter-moshi", version.ref = "retrofit" }

#OkHttp
okHttp-okHttp = { module = "com.squareup.okhttp3:okhttp" }
okHttp-bom = { module = "com.squareup.okhttp3:okhttp-bom", version.ref = "okHttp" }
okHttp-loggingInterceptor = { module = "com.squareup.okhttp3:logging-interceptor" }
...

[bundles]
...
#Retrofit
retrofit = ["retrofit-retrofit", "retrofit-gsonConverter", "retrofit-moshiConverter"]

#OkHttp
okHttp = ["okHttp-bom", "okHttp-loggingInterceptor", "okHttp-okHttp"]
...
```
**`bundles`** –±–ª–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–±–æ—Ä–æ–≤ –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
`retrofit` —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–∞–±–æ—Ä–∞, `[]` –∫–∞–∫ –≤—ã –º–æ–≥–ª–∏ –¥–æ–≥–∞–¥–∞—Ç—å—Å—è - —Å–æ–∑–¥–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫.
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –º–∞—Å—Å–∏–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º - **`["retrofit-retrofit"]`** 
—ç—Ç–æ –Ω–∞—à–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–∑ –±–ª–æ–∫–∞ **`libraries`**
–î–æ–±–∞–≤–∏–≤ –≤—Å–µ –Ω—É–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ **`bundle`**, –Ω–∞—à –∫–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
```groovy:data build.gradle.kts
dependencies {
     ...
    // Retrofit
    implementation(libs.bundles.retrofit)

    // OkHttp
    implementation(libs.bundles.okHttp)
}
```
  
–ö–æ–¥ `app` **`build.gradle.kts`** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **`buildSrc`**
```groovy:app build.gradle.kts
...
dependencies {
    // UI Components
    implementation(Dependencies.UIComponents.appCompat)
    implementation(Dependencies.UIComponents.material)
    implementation(Dependencies.UIComponents.constraintLayout)
    implementation(Dependencies.UIComponents.viewBindingPropertyDelegate)
    implementation(Dependencies.Glide.glide)
    implementation(Dependencies.SplashScreen.splashScreen)

    // Activity
    implementation(Dependencies.Activity.activity)

    // Fragment
    implementation(Dependencies.Fragment.fragment)

    // Lifecycle
    implementation(Dependencies.Lifecycle.runtime)
    implementation(Dependencies.Lifecycle.viewModel)
    implementation(Dependencies.Lifecycle.liveData)

    // Navigation
    implementation(Dependencies.Navigation.fragment)
    implementation(Dependencies.Navigation.ui)
    
    // Koin
    implementation(Dependencies.Koin.android)
    implementation(Dependencies.Koin.navigation)
}
```
–ö–æ–¥ `app` **`build.gradle.kts`** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **`Version Catalog`**

```groovy:app build.gradle.kts
...
dependencies {
    implementation(project(":data"))
    implementation(project(":domain"))
    // UI Components
    implementation(libs.bundles.uiComponents)

    // Core
    implementation(libs.android.core)

    // Coroutines
    implementation(libs.coroutines.android)
    implementation(libs.coroutines.core)

    // Lifecycle
    implementation(libs.bundles.lifecycle)

    // Navigation
    implementation(libs.bundles.navigation)

    // Koin
    implementation(libs.bundles.koin)
}
```
## **Version Catalog Deep Diving III** - `Plugins`
–ú—ã –Ω–∞—É—á–∏–ª–∏—Å—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–µ—Ä—Å–∏–∏ –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫, –≤–Ω–µ–¥—Ä—è—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –¥–µ–ª–∏—Ç—å –∏—Ö –Ω–∞ –≥—Ä—É–ø–ø—ã, 
—Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–ª—è –Ω–∏—Ö –Ω–∞–±–æ—Ä—ã, –Ω–æ –æ—Å—Ç–∞–ª—Å—è –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç - **–ø–ª–∞–≥–∏–Ω—ã**
–í–Ω–µ–¥—Ä–µ–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–æ–≤ –≤ **`Version Catalog`** –Ω–µ —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫.
–î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –≤–Ω–µ–¥—Ä–∏—Ç—å –Ω–∞—à –ø–µ—Ä–≤—ã–π **–ø–ª–∞–≥–∏–Ω**: 
```toml:libs.versions.toml
[versions]
...
kotlin = "1.7.20"
...
[plugins]
...
#Kotlin
kotlin = { id = "org.jetbrains.kotlin.android", version.ref = "kotlin" }
```
–ë–ª–æ–∫ **`[plugins]`** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–ª–∞–≥–∏–Ω–æ–≤. **`id`** —è–≤–ª—è–µ—Ç—Å—è —Å—Å—ã–ª–∫–æ–π –Ω–∞ –Ω–∞—à –ø–ª–∞–≥–∏–Ω,
–∫–æ—Ç–æ—Ä—ã–π –º—ã —Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. **`version.ref`** –±—É–¥–µ—Ç –≤–µ—Ä—Å–∏–µ–π, –∫–æ—Ç–æ—Ä—É—é –Ω–∞—à –ø–ª–∞–≥–∏–Ω –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.
–í–∑–≥–ª—è–Ω–µ–º –Ω–∞ `root` **`build.gradle.kts`** –ø—Ä–æ–µ–∫—Ç–∞:
```groovy:build.gradle.kts
plugins {
...
alias(libs.plugins.kotlin) apply false 
}
```
**`alias`** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø–ª–∞–≥–∏–Ω–∞. **–í–µ—Ä—Å–∏—é** –ø–ª–∞–≥–∏–Ω–∞ –Ω–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å,
—Ç–∞–∫ –∫–∞–∫ –æ–Ω–∞ —É–∂–µ –±—ã–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤—ã—à–µ.
  
–î—Ä–æ–±–ª–µ–Ω–∏–µ –Ω–∞ –≥—Ä—É–ø–ø—ã —Ç–∞–∫–∂–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ:
```toml:libs.versions.toml
[versions]
...
agp = "7.2.0"
...
[plugins]
...
#AGP
agp-application = { id = "com.android.application", version.ref = "agp" }
agp-library = { id = "com.android.library", version.ref = "agp" }
```

```groovy:build.gradle.kts
plugins {
alias(libs.plugins.agp.application) apply false 
alias(libs.plugins.agp.library) apply false
}
```
–¢–∞–∫, –º—ã —É–∑–Ω–∞–ª–∏ –∫–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–ª–∞–≥–∏–Ω—ã –≤ **`build.gradle.kts`** –ø—Ä–æ–µ–∫—Ç–∞.
–£–∑–Ω–∞–µ–º –∂–µ, –∫–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–ª–∞–≥–∏–Ω—ã –≤ –æ–±—ã—á–Ω—ã–µ –º–æ–¥—É–ª–∏:
`app` **`build.gradle.kts`**

```groovy:app build.gradle.kts
plugins {
    // Application
    id(libs.plugins.agp.application.get().pluginId)
    ...
}
```
**`alias`** –¥–æ—Å—Ç–∞–µ—Ç –Ω–∞—à –ø–ª–∞–≥–∏–Ω –≤–º–µ—Å—Ç–µ —Å –≤–µ—Ä—Å–∏–µ–π, –∞ —Ç–∞–∫ –∫–∞–∫ –º—ã –Ω–µ –≤ –∫–æ—Ä–Ω–µ–≤–æ–º **`build.gradle.kts`**,
–Ω–∞–º —ç—Ç–æ –Ω–µ –Ω—É–∂–Ω–æ. 
–ü–æ—ç—Ç–æ–º—É, –º—ã –¥–µ–ª–∞–µ–º **`get().pluginId`** –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ `id` –ø–ª–∞–≥–∏–Ω–∞.
## **Version Catalog Deep Diving IV** - `get()`
–ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ **`[versions]`** –∫–∞–∫ `Int`? 
–ö–æ–Ω–µ—á–Ω–æ!
–î–æ–ø—É—Å—Ç–∏–º –≤—ã —Å–æ–∑–¥–∞–ª–∏ `config.versions.toml` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è `minSdk`, `targetSdk` –∏ `compileSdk`,
–∞ —Ç–∞–∫–∂–µ `buildTypes` –∏ —Ö–æ—Ç–∏—Ç–µ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–º–µ—Å—Ç–æ hardcoded –∑–Ω–∞—á–µ–Ω–∏–π.
```toml:config.versions.toml
[versions]
compileSdk = "33"
minSdk = "23"
targetSdk = "33"
releaseBuildType = "release"
debugBuildType = "debug"
```
–ü–æ –¥–µ—Ñ–æ–ª—Ç—É, —Ç–æ–ª—å–∫–æ **`libs.versions.toml`** —Å–æ–∑–¥–∞–Ω, –∏ –µ–≥–æ –Ω–µ –Ω–∞–¥–æ –æ—Ç–¥–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.
–ù–æ –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–≤–∞ –∏ –±–æ–ª–µ–µ, —Ç–æ –Ω—É–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å **`settings.gradle.kts`**
  
```groovy:settings.gradle.kts
pluginManagement {
    repositories {
        gradlePluginPortal()
        google()
        mavenCentral()

        maven { url = uri("https://jitpack.io") }
    }
}

enableFeaturePreview("VERSION_CATALOGS")
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.PREFER_SETTINGS)
    repositories {
        google()
        mavenCentral()
        maven("bla-bla")
        maven { url = uri("https://jitpack.io") }
    }
    versionCatalogs {
        create("config") {
            from(files("gradle/config.versions.toml"))
        }
    }
}
```
–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –¥–æ–±–∞–≤–∏–ª–∏ –Ω–∞—à –Ω–æ–≤—ã–π **`Version Catalog`**, –≤—Å–µ –ø—Ä–æ—â–µ –ø—Ä–æ—Å—Ç–æ–≥–æ:
```groovy:app build.gradle.kts
android {
    namespace = "com.geekstudio.myapplication"
    compileSdk = config.versions.compileSdk.get().toInt()

    
defaultConfig {
        applicationId = "com.geekstudio.myapplication"
        minSdk = config.versions.minSdk.get().toInt()
        targetSdk = config.versions.targetSdk.get().toInt()
        versionCode = 1
        versionName = "1.0"

        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"
    }

    buildTypes {
        getByName(config.versions.releaseBuildType.get()) {
            isMinifyEnabled = false
            proguardFiles(
                getDefaultProguardFile("proguard-android-optimize.txt"), "proguard-rules.pro"
            )
        }
        getByName(config.versions.debugBuildType.get()) {
            applicationIdSuffix = ".debug"
            isDebuggable = true
        }
    }

}
...
```
–° –ø–æ–º–æ—â—å—é **`get()`** –≤—ã –ø–æ–ª—É—á–∞–µ—Ç–µ `String`, –¥–∞–ª–µ–µ `.toInt()` –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –µ–≥–æ –≤ `Int`.
–î–ª—è `buildTypes` –≤—ã –ø—Ä–æ—Å—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç–µ `String`.

–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, –≤—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ —ç–∫—Å–ø—Ä–µ—Å—Å-–∫—É—Ä—Å –ø–æ **`Version Catalog`** –∫–∞–∫ `Dependency Management`.

**–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –∑–∞–≤–µ—Ä—à–∏—Ç—å —ç—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ**, –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å **`buildSrc`** 
–Ω–∞ **`Version Catalog`**.
## Technical Task #6 - :arrow_left: or :arrow_right: ? 
–í—ã –ø—Ä–æ—à–ª–∏ –æ–≥–æ–Ω—å, –≤–æ–¥—É –∏ –º–∞–ø–ø–∏–Ω–≥, –æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å —Å–æ –º–Ω–æ–≥–∏–º, —á—Ç–æ –≤—ã –±—É–¥–µ—Ç–µ –≤—Å—Ç—Ä–µ—á–∞—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
–≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π `Android —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ`. –û–¥–Ω–∞–∫–æ, –æ—Å—Ç–∞–ª–∞—Å—å –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—â—å, –∫–æ—Ç–æ—Ä—É—é –≤—ã –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç–µ.

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç, –≤—Å–µ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ **`Resource sealed class`**, –ø—Ä–∏–º–µ—Ä–Ω–æ —á—Ç–æ-—Ç–æ —Ç–∏–ø–æ —Ç–∞–∫–æ–≥–æ
```kotlin:Resource.kt
...
sealed class Resource<T>(
    val data: T? = null,
    val message: String? = null,
) {
    class Loading<T> : Resource<T>()
    class Success<T>(data: T) : Resource<T>(data = data)
    class Error<T>(message: String, data: T? = null) : Resource<T>(data = data, message = message)
}
```
–í—Ä–æ–¥–µ –ø—Ä–∏–∫–æ–ª—å–Ω–æ, –Ω–æ –º–Ω–µ –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è —á—Ç–æ **`class Loading<T> : Resource<T>()`** –º–æ–∂–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –∑–∞ –∑–∞–≥—Ä—É–∑–∫—É –≤ 
`Presentation` —Å–ª–æ–µ, —á—Ç–æ –Ω–µ —Å–∏–ª—å–Ω–æ —Ç–æ –Ω—É–∂–Ω–æ, —Ç–∞–∫ –∫–∞–∫ —É –Ω–∞—Å –µ—Å—Ç—å UIState:
```kotlin:UIState.kt
...
sealed class UIState<T> {
    class Idle<T> : UIState<T>()
    class Loading<T> : UIState<T>()
    class Error<T>(val error: String) : UIState<T>()
    class Success<T>(val data: T) : UIState<T>()
}
```
–ì–¥–µ —É–∂–µ –∑–∞—Ä–∞–Ω–µ–µ –µ—Å—Ç—å —Ç–∞–∫–æ–π –∂–µ **`class Loading<T> : UIState<T>()`**, —á—Ç–æ –∏ –≤ **`Resource`**,
–Ω–æ –æ–Ω –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∑–∞–≥—Ä—É–∑–∫—É `UI` —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

–î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –∏ –ø—Ä–∏–¥—É–º–∞–ª–∏ **`Either`**. 

–¢–µ –∫—Ç–æ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —á–∏—Ç–∞–ª —Å—Ç–∞—Ç—å –∏–∑ 3 –∑–∞–¥–∞–Ω–∏—è, –ø–æ–º–Ω–∏—Ç –ø—Ä–æ **`Either`** –ê–ª–∏—à–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω –ø—Ä–∏–º–µ–Ω—è–ª
–¥–ª—è **–æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –±—ç–∫—ç–Ω–¥**, –¥–∞ –∏ –Ω–µ —Ç–æ–ª—å–∫–æ. 
–í —ç—Ç–æ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º –∑–∞–¥–∞–Ω–∏–∏ –º—ã –∑–∞–π–º–µ–º—Å—è –º–∏–≥—Ä–∞—Ü–∏–µ–π —Å –≤–∞–º–∏ –ø–æ–ª—é–±–∏–≤—à–µ–≥–æ—Å—è **`Resource`** –Ω–∞ **`Either`**.

## **`Either`** as **`Resource`** replacement
**`Either`** - –ø—Ä—è–º–∞—è –∑–∞–º–µ–Ω–∞ **`Resource`**, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –Ω–∞–º –Ω–µ —Å–æ–≤–µ—Ä—à–∞—è –ª–∏—à–Ω–∏—Ö –¥–≤–∏–∂–µ–Ω–∏–π –æ–ø—Ä–æ–∫–∏–¥—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –æ—à–∏–±–∫—É. –í—ã–≥–ª—è–¥–∏—Ç –æ–Ω –≤–æ—Ç —Ç–∞–∫:
```kotlin:Either.kt
package com.geekstudio.myapplication.domain.either

sealed class Either<out A, out B> {
    class Left<out A>(val value: A) : Either<A, Nothing>()
    class Right<out B>(val value: B) : Either<Nothing, B>()
}
```
**`Either`** —ç—Ç–æ —Ç–∞–∫–∂–µ **sealed class**, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –º–Ω–æ–≥–æ–º–æ–¥—É–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –≤ **`Domain`** —Å–ª–æ–µ,
–ø–µ—Ä–µ–¥–∞–≤–∞—è—Å—å –≤ **`Data`** –∏ **`Presentation`**.
–ù–∞—à `Data Flow` –Ω–∞ —É—Ä–æ–≤–Ω–µ **`Data`** –∏ **`Domain`** –Ω–µ –±—É–¥–µ—Ç –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö **3** —Å–æ—Å—Ç–æ—è–Ω–∏–π, 
–∞ –≤—Å–µ–≥–æ –ª–∏—à—å **2**, —Ç–∞–∫ –∫–∞–∫ –º—ã –∏–º–µ–µ–º `Left` –∏–ª–∏ `Right`.
```mermaid
graph TD;
NetworkRequest-->Left;
NetworkRequest-->Right;
```
–ê–Ω–∞—Ç–æ–º–∏—è **`Either`** —Ç–∞–∫–æ–≤–∞, —á—Ç–æ –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ —Å–µ–±—è **`out A, out B>`**, —á—Ç–æ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç,
—á—Ç–æ —ç—Ç–æ—Ç **sealed class** –±—É–¥–µ—Ç —Ç–æ—á–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤ —Å–µ–±–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö **A** –∏ **B**, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤ —Å–≤–æ–∏—Ö –∫–ª–∞—Å—Å–∞—Ö.
**`Left`** - –æ—à–∏–±–∫–∞, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è –≤ —Å–µ–±—è generic **A**, —á–∞—â–µ –≤—Å–µ–≥–æ —è–≤–ª—è—é—â–∏–π—Å—è `String`
–∫–∞–∫ –æ—à–∏–±–∫–æ–π –∏ –≤ **B** **`Nothing`** –∫–∞–∫ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö, –ø—É—Å—Ç–æ—Ç—É.
**`Right`** - –¥–∞–Ω–Ω—ã–µ, –ø—Ä–∏–Ω–∏–º–∞—é—â–µ–µ –≤ **A** **`Nothing`**, –∞ –≤ **B** –¥–∞–Ω–Ω—ã–µ.
–í—Å–µ –ª–µ–≥–∫–æ –∏ –ø—Ä–æ—Å—Ç–æ! –í —Å–≤—è–∑–∏ —Å —ç—Ç–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–º–µ–Ω—è—Ç—å –Ω–∞—à —É—Å—Ç–æ—è–≤—à–∏–π—Å—è `BaseRepository` 
–Ω–∞ –±–æ–ª–µ–µ –Ω–æ–≤—ã–π –∏ –±–∞–ª–¥–µ–∂–Ω—ã–π.
```kotlin:BaseRepository.kt
...

internal fun <T> makeNetworkRequest(
    gatherIfSucceed: ((T) -> Unit)? = null,
    request: suspend () -> T
) =
    flow<Either<String, T>> {
        request().also {
            gatherIfSucceed?.invoke(it)
            emit(Either.Right(value = it))
        }
    }.flowOn(Dispatchers.IO).catch { exception ->
        emit(Either.Left(value = exception.localizedMessage ?: "Error Occurred!"))
    }
```
–°–µ–π—á–∞—Å, –Ω–∞—à `BaseRepository.kt` —ç—Ç–æ —É–∂–µ –Ω–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å –∫–∞–∫ –¥–æ —ç—Ç–æ–≥–æ, –∞ –ø—Ä–æ—Å—Ç–æ `Kotlin File` —Å `internal fun`, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –ø–æ–∑–≤–æ–ª–∏—Ç—å –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –≤ –º–æ–¥—É–ª–µ, –≥–¥–µ –æ–Ω–∞ –æ–±—ä—è–≤–ª–µ–Ω–∞.
–£—Ç–∏–ª–∏–∑–∞—Ü–∏—è **`makeNetworkRequest`** –Ω–µ —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–π:
```kotlin:SignUpRepositoryImpl.kt
...
override fun signUp(
        username: String,
        password: String,
        confirmationPassword: String
    ) = makeNetworkRequest(this::saveTokensAndUserId) {
        authenticationApiService.signUp(
            SignUpDto(
                username,
                password,
                confirmationPassword
            )
        ).toDomain()
    }
```
–¢–µ–ø–µ—Ä—å, –æ—Å—Ç–∞–ª–æ—Å—å –ø–æ–º–µ–Ω—è—Ç—å `BaseViewModel.kt` –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π:
```kotlin:BaseViewModel.kt
...

abstract class BaseViewModel : ViewModel() {
    protected fun <T> mutableUiStateFlow() = MutableStateFlow<UIState<T>>(UIState.Idle())

    protected fun <T, S> Flow<Either<String, T>>.gatherRequest(
        state: MutableStateFlow<UIState<S>>,
        mappedData: (data: T) -> S
    ) {
        viewModelScope.launch(Dispatchers.IO) {
            state.value = UIState.Loading()
            this@gatherRequest.collect {
                when (it) {
                    is Either.Left -> state.value = UIState.Error(it.value)
                    is Either.Right -> state.value = UIState.Success(mappedData(it.value))
                }
            }
        }
    }

    protected fun <T> Flow<Either<String, T>>.gatherRequest(
        state: MutableStateFlow<UIState<T>>,
    ) {
        viewModelScope.launch(Dispatchers.IO) {
            state.value = UIState.Loading()
            this@gatherRequest.collect {
                when (it) {
                    is Either.Left -> state.value = UIState.Error(it.value)
                    is Either.Right -> state.value =
                        UIState.Success(it.value)
                }
            }
        }
    }
}
```
`mutableUiStateFlow()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **`MutableStateFlow`** 
–æ–±–≤–µ—Ä–Ω—É—Ç—ã–π –≤ **`UIState<T>`** –∏ —Å `default value` - **`UIState.Idle()`**.

–ü—Ä–∏–º–µ—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:
```kotlin:SignUpViewModel.kt

    private val _signUpState = mutableUiStateFlow<TokensUI>()
    val signUpState = _signUpState.asStateFlow()
```

`gatherRequest()` —Ç–æ –∂–µ —Å–∞–º–æ–µ —á—Ç–æ –≤–∞—à –ª—é–±–∏–º—ã–π `collectRequest()`, –æ–¥–Ω–∞–∫–æ –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–π
–Ω–∞ **`Either`** –∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —ç—Ç–æ–≥–æ –º–µ–Ω—è—é—â–∏–π `value` `mutableUiStateFlow()`,
–∫ —Ç–æ–º—É –∂–µ –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –º–∞–ø–ø–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ UI.

–ü—Ä–∏–º–µ—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:
```kotlin:SignUpViewModel.kt

    private val _signUpState = mutableUiStateFlow<TokensUI>()
    val signUpState = _signUpState.asStateFlow()

    fun signUp(username: String, password: String, confirmedPassword: String) =
        signUpUseCase(
            username,
            password,
            confirmedPassword
        ).gatherRequest(_signUpState) { it.toUI() }
```

–° **`ViewModel`** —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å, –Ω–æ —á—Ç–æ –∂–µ —Å **`Fragment`**? 

–ê –≤—Å–µ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ:
```kotlin:BaseFragment.kt
...

abstract class BaseFragment<Binding : ViewBinding, ViewModel : BaseViewModel>(
    @LayoutRes layoutId: Int
) :
    Fragment(layoutId) {
    protected abstract val binding: Binding
    protected abstract val viewModel: ViewModel

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)
        initialize()
        assembleViews()
        constructListeners()
        establishRequest()
        launchObservers()
    }

    protected open fun initialize() {}

    protected open fun assembleViews() {}

    protected open fun constructListeners() {}

    protected open fun establishRequest() {}

    protected open fun launchObservers() {}
    
    fun safeFlowGather(
        lifecycleState: Lifecycle.State = Lifecycle.State.STARTED,
        gather: suspend () -> Unit,
    ) {
        viewLifecycleOwner.lifecycleScope.launch {
            viewLifecycleOwner.repeatOnLifecycle(lifecycleState) {
                gather()
            }
        }
    }

    protected fun <T : Any> Flow<PagingData<T>>.spectatePaging(
        lifecycleState: Lifecycle.State = Lifecycle.State.STARTED,
        success: suspend (data: PagingData<T>) -> Unit,
    ) {
        safeFlowGather(lifecycleState) {
            collectLatest {
                success(it)
            }
        }
    }

    protected fun <T> StateFlow<UIState<T>>.spectateUiState(
        lifecycleState: Lifecycle.State = Lifecycle.State.STARTED,
        success: ((data: T) -> Unit)? = null,
        loading: ((data: UIState.Loading<T>) -> Unit)? = null,
        error: ((error: String) -> Unit)? = null,
        idle: ((idle: UIState.Idle<T>) -> Unit)? = null,
        gatherIfSucceed: ((state: UIState<T>) -> Unit)? = null,
    ) {
        safeFlowGather(lifecycleState) {
            collect {
                gatherIfSucceed?.invoke(it)
                when (it) {
                    is UIState.Idle -> {
                        idle?.invoke(it)
                    }
                    is UIState.Loading -> {
                        loading?.invoke(it)
                    }
                    is UIState.Error -> {
                        error?.invoke(it.error)
                    }
                    is UIState.Success -> {
                        success?.invoke(it.data)
                    }
                }
            }
        }
    }

    protected fun <T> UIState<T>.assembleViewVisibility(
        group: Group,
        loader: CircularProgressIndicator,
        navigationSucceed: Boolean = false,
    ) {
        fun displayLoader(isDisplayed: Boolean) {
            group.isVisible = !isDisplayed
            loader.isVisible = isDisplayed
        }
        when (this) {
            is UIState.Idle -> {}
            is UIState.Loading -> {
                displayLoader(true)
            }
            is UIState.Error -> {
                displayLoader(false)
            }
            is UIState.Success -> {
                if (navigationSucceed) {
                    displayLoader(true)
                } else {
                    displayLoader(false)
                }
            }
        }
    }
}

/* 
P.S. –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —É—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç BaseFragment, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ
–ø–æ–¥–∫–ª—é—á–∏—Ç—å ViewBindingPropertyDelegate –æ—Ç Android Broadcast.
 */
```
–í—Å–µ–º–∏ –≤–æ—Å—Ö–≤–∞–ª–µ–Ω–Ω—ã–π **`safeFlowGather`** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è `lifecycle-aware coroutine`,
–∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç –¥–æ—Å—Ç–∏–≥–∞–µ—Ç –º–µ—Ç–æ–¥–∞ `onStart()` –ø–æ –¥–µ—Ñ–æ–ª—Ç—É,
–µ–≥–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å. –Ø–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Ç–æ–¥–∞—Ö, –Ω–æ –∏ –¥–æ—Å—Ç—É–ø–Ω–∞—è
–¥–ª—è —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

–ü—Ä–∏–º–µ—Ä —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:
```kotlin
...
        safeFlowGather {
            viewModel.someState.collectLatest {
                // TODO: 
            }
        }
```

**`spectatePaging`** –¥–ª—è –∫–æ–ª–ª–µ–∫—Ç–∞ `Flow<PagingData<T>>` –≤ `lifecycle-aware coroutine`, 
–ø—Ä–∏ —ç—Ç–æ–º –Ω–∞—Ö–æ–¥—è—Å—å –≤ `coroutineScope`.

–ü—Ä–∏–º–µ—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è: 
```kotlin
...
        viewModel.fetchSomething().spectatePaging {
            someAdapter.submitData(it)
            // TODO:
        }
```
**`spectateUiState`** –º–µ—Ç–æ–¥ –¥–ª—è –∫–æ–ª–ª–µ–∫—Ç–∞ `StateFlow<UIState<T>>`, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ –∏ –≤—ã–∑—ã–≤–∞—é—â–∏–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å UI. –í—Å–µ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–∞–∫–∂–µ –≤ `lifecycle-aware coroutine`.

–ü—Ä–∏–º–µ—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:
```kotlin:SignUpFragment.kt

  viewModel.signUpState.spectateUiState(success = {
            userDataPreferencesManager.isAuthenticated = true
            findNavController().navigateSafely(R.id.action_signUpFragment_to_mainFlowFragment)
        }, error = {
            when (it.filter { char -> char.isDigit() }.toInt()) {
                500 ->
                    showCustomToast(
                        getString(R.string.internal_server_error),
                        gravity = Gravity.BOTTOM,
                        toastDuration = Toast.LENGTH_LONG,
                        yOffset = 270
                    )
                400 ->
                    showCustomToast(
                        getString(R.string.this_username_isnt_available),
                        gravity = Gravity.BOTTOM,
                        toastDuration = Toast.LENGTH_LONG,
                        yOffset = 270
                    )
            }
        }, gatherIfSucceed =
        {
            cpiSignUp.bindToUIStateLoading(it)
            when (cpiSignUp.isVisible) {
                true -> btnSignUp.text = ""
                false -> btnSignUp.text = getString(R.string.sign_up)
            }
        })
```
**`assembleViewVisibility`** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è `ProgressBar`  –∏ —Å–∫—Ä—ã—Ç–∏–µ `Group`, 
–¥–æ–ø—É—Å—Ç–∏–º –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏–± –∫–æ–≥–¥–∞ –Ω–∞–¥–æ –ø–æ–∫–∞–∑–∞—Ç—å `ProgressBar` –∏ —Å–∫—Ä—ã—Ç—å –≤—Å–µ, –∫—Ä–æ–º–µ –Ω–µ–≥–æ.

![](https://i.imgur.com/sEej6rf.gif)

–ü—Ä–∏–º–µ—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è:
```kotlin:SignInFragment.kt
...

    override fun setupSubscribers() = with(binding) {
        viewModel.signInState.spectateUiState(
            gatherIfSucceed = {
                it.setupViewVisibility(groupSignIn, loaderSignIn, true)
            },
            error = {
                it.setupApiErrors(
                    inputLayoutSignInUsername,
                    inputLayoutSignInPassword
                )
                it.setupUnexpectedErrors(requireContext())
            },
            success = {
                findNavController().navigate(R.id.action_signInFragment_to_homeFragment)
            }
        )
    }
```

–î—É–º–∞—é –Ω–∞ —ç—Ç–æ–º –≤—Å–µ.

–ß—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å —ç—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ, –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±—Ä–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ **`Resource`**
–∏ –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –Ω–∞ **`Either`**.

## Technical Task #7 - Dokka :page_facing_up:
–ï—Å–ª–∏ –≤—ã –¥–æ—à–ª–∏ –¥–æ —ç—Ç–æ–≥–æ —ç—Ç–∞–ø–∞, —Ç–æ —è –≤–∞—Å –ø–æ–∑–¥—Ä–∞–≤–ª—è—é! 
–í—ã –ø—Ä–æ—à–ª–∏ –ª–∏–Ω–µ–π–∫—É –∏–º–µ–Ω–Ω–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞–Ω–∏–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π –∏ –∫–æ–¥–æ–º.
–û—Å—Ç–∞–ª–æ—Å—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ, —á–µ–º—É —è –±—ã —Ö–æ—Ç–µ–ª –≤–∞—Å –Ω–∞—É—á–∏—Ç—å, –∏ —á—Ç–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≤ –±—É–¥—É—â–µ–º.

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∫–æ–¥—É –ø—Ä–æ–µ–∫—Ç–∞, –ø–æ–º–æ–≥–∞—é—â–∞—è —á–µ–ª–æ–≤–µ–∫—É –≤–ª–∏—Ç—å—Å—è
–≤ –ø—Ä–æ–µ–∫—Ç –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –ø—Ä–æ–±–ª–µ–º, –Ω–µ –æ—Å—Ç–∞–≤–ª—è—è –Ω–∏–∫–∞–∫–∏—Ö –Ω–µ –æ—Ç–≤–µ—á–µ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ–∑–∞–¥–∏.
–î–∞, –º–æ–∂–µ—Ç –±—ã—Ç—å –∏ —Ä–∞–Ω–æ, –Ω–æ —ç—Ç–æ —Ç–æ, —á–µ–º—É –Ω–∞–¥–æ –Ω–∞—É—á–∏—Ç—å—Å—è.

## **Dokka Introduction** - What is **Dokka** ? 
**`Dokka`** - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–π –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö `Kotlin`
–∫–∞–∫ —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.

**`Dokka`** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
- `HTML`
- `Markdown`
- `Javadoc`

–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è **`Dokka`**:
- [kotlinx.coroutines](https://kotlinlang.org/api/kotlinx.coroutines/)
- [Bitmovin](https://cdn.bitmovin.com/player/android/3/docs/index.html)
- [Hexagon](https://hexagonkt.com/api/index.html)
- [Ktor](https://api.ktor.io/?_gl=1*4q42nu*_ga*ODMzNzg5Ny4xNjc3NzU4OTgx*_ga_9J976DJZ68*MTY3ODYwOTk2MS4yMC4xLjE2Nzg2MTA1NzEuMzEuMC4w&_ga=2.234634270.1491059278.1678609961-8337897.1677758981)
- [OkHttp (Markdown)](https://square.github.io/okhttp/4.x/okhttp/okhttp3/)


–î–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ `Android` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é,
—á–∞—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **`Dokka`** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –æ—Å–Ω–æ–≤–∞–Ω–Ω–æ–π –Ω–∞ `HTML`.

–î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ **`Dokka`** –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- `Gradle`
- `Maven`
- `CLI`

–ù–æ —Ç–∞–∫ –∫–∞–∫ –º—ã `Android` —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ `Android Studio` –∫–∞–∫ `IDE`, –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Gradle`

## **Dokka Deep Diving I** - Get Started

–î–ª—è –Ω–∞—á–∞–ª–∞, –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç —Å **`Groovy`** –Ω–∞ **`Kotlin DSL`**. 

–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è **`Dokka`** —è –±—É–¥—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—é–±–∏–≤—à–∏–π—Å—è **`Version Catalog`**.

–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `libs.versions.toml`
```toml:libs.versions.toml
[versions]
...

#Kotlin
kotlin = "1.7.20"
dokka = "0.9.18"
...
[libraries]

#JetBrains
jetBrains-kotlin-gradle = { module = "org.jetbrains.kotlin:kotlin-gradle-plugin", version.ref = "kotlin" }
jetBrains-dokka-base = { module = "org.jetbrains.dokka:dokka-base", version.ref = "kotlin" }
jetBrains-dokka-gradle = { module = "org.jetbrains.dokka:dokka-gradle-plugin", version.ref = "kotlin" }
jetBrains-dokka-android-documentation = { module = "org.jetbrains.dokka:android-documentation-plugin", version.ref = "kotlin" }
jetBrains-dokka-android-gradle = { module = "org.jetbrains.dokka:dokka-android-gradle-plugin", version.ref = "dokka" }
...
[plugins]
...
#JetBrains
jetBrains-kotlin-gradle = { id = "org.jetbrains.kotlin.android", version.ref = "kotlin" }
jetBrains-kotlin-jvm = { id = "org.jetbrains.kotlin.jvm", version.ref = "kotlin" }
jetBrains-dokka = { id = "org.jetbrains.dokka", version.ref = "kotlin" }
...
```

–î–∞–ª–µ–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `root` **`build.gradle.kts`** –∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ:

```groovy:build.gradle.kts

plugins {
    alias(libs.plugins.agp.application) apply false
    alias(libs.plugins.agp.library) apply false
    alias(libs.plugins.jetBrains.kotlin.gradle) apply false
    alias(libs.plugins.jetBrains.kotlin.jvm) apply false
    alias(libs.plugins.navigation.safeArgs) apply false
    alias(libs.plugins.jetBrains.dokka)
}
buildscript {
    dependencies {
        classpath(libs.jetBrains.dokka.gradle)
        classpath(libs.jetBrains.dokka.android.documentation)
        classpath(libs.jetBrains.dokka.android.gradle)
    }
}
allprojects {
    apply(plugin = rootProject.project.libs.plugins.jetBrains.dokka.get().pluginId)
}
```

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—Å–µ —Å–∏–Ω–∫–Ω—É–ª–∏, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ `—Ç–µ—Ä–º–∏–Ω–∞–ª` –≤ `Android Studio` –∏ –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:
```
./gradlew dokkaHtml dokkaHtmlMultiModule
```
–≤–æ –≤—Ä–µ–º—è —Ç–æ–≥–æ –∫–∞–∫ –∫–æ–º–∞–Ω–¥–∞ –Ω–∞—á–Ω–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è, –¥–∞–ª–µ–µ **`—ç–∫–∑–µ–∫—å—é—Ç–∏—Ç—Å—è`**, **`Dokka`** –Ω–∞—á–Ω–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –Ω–∞ `HTML`.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—Å–µ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è, –¥–µ–ª–∞–µ–º —Å–ª–µ–¥—É—é—â–µ–µ: 

![](https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExMDg2OTY3MGE1N2EyM2ZhNzQ3YWYxZjQ0ZTMwYjhmOWIzMDI3ZmRhMCZjdD1n/BKygXabIO31BDrKp2X/giphy.gif)

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –æ—Ç–∫—Ä—ã–ª–∏, –≤—ã –±—É–¥–µ—Ç–µ –≤–∏–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —ç—Ç–æ:

![](https://i.imgur.com/H0Zt5MT.png)

–ú—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏ –ø–æ—á–≤—É –¥–ª—è –±—É–¥—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É.

–ï—Å–ª–∏ –≤–¥—Ä—É–≥ –±—ã–ª–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –∏ —Ö–æ—Ç–∏—Ç–µ –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è, —Ç–æ –ø–æ—Å–µ—Ç–∏—Ç–µ [Run Dokka with Gradle](https://kotlinlang.org/docs/dokka-gradle.html)

## **Dokka Deep Diving II** - Dokka Configuration
–° –ø—Ä–æ—à–ª–æ–≥–æ —Ä–∞–∑–∞ —É –Ω–∞—Å –µ—Å—Ç—å –≥–æ—Ç–æ–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –Ω–æ –æ–Ω–∞ –ø—É—Å—Ç—É–µ—Ç, –∫–∞–∫ –≤—ã –º–æ–≥–ª–∏ —É–≤–∏–¥–µ—Ç—å.

–í —ç—Ç–æ–π —á–∞—Å—Ç–∏ –º—ã –æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å –±–∞–∑–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π **`Dokka`**.

–ï—Å–ª–∏ –≤—ã –ø–æ–≤—Ç–æ—Ä—è–ª–∏ –∑–∞ –º–Ω–æ–π –≤ —á–∞—Å—Ç–∏ —Å **`Version Catalog`**, —Ç–æ —É–∂–µ —Å–æ–∑–¥–∞–≤–∞–ª–∏ `config.versions.toml`
–ï—Å–ª–∏ –Ω–µ—Ç, —è –∫—Ä–∞–π–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é —Å–æ–∑–¥–∞—Ç—å `config.versions.toml`.

–°–æ–∑–¥–∞–µ–º –º—ã –µ–≥–æ —Ç–∞–º –∂–µ, –≥–¥–µ –∏ `libs.versions.toml`:

```toml:config.versions.toml
[versions]
compileSdk = "33"
minSdk = "23"
targetSdk = "33"
releaseBuildType = "release"
debugBuildType = "debug"
documentationCommonFooterMessage = "Dokka MultiModule example. "
versionName = "1.0"
```

–≠—Ç–æ—Ç —Ñ–∞–π–ª –æ–ª–∏—Ü–µ—Ç–≤–æ—Ä—è–µ—Ç –Ω–∞—à **`AndroidConfig.kt`** –∏–∑ **`buildSrc`**

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —Å–æ–∑–¥–∞–ª–∏ –Ω–∞—à `config.versions.toml`, –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ **`settings.gradle.kts`**, 
–∫–∞–∫ —è –ø–æ–∫–∞–∑—ã–≤–∞–ª –≤—ã—à–µ.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–∏–ª–∏ —ç—Ç–æ, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –æ–±—Ä–∞—Ç–Ω–æ –≤ –Ω–∞—à `root` **`build.gradle.kts`**

```groovy:build.gradle.kts
import org.gradle.accessors.dm.LibrariesForConfig
import org.jetbrains.dokka.base.DokkaBase
import org.jetbrains.dokka.base.DokkaBaseConfiguration
import java.time.Year

val config = the<LibrariesForConfig>()
// Top-level build file where you can add configuration options common to all sub-projects/modules.
plugins {
    alias(libs.plugins.agp.application) apply false
    alias(libs.plugins.agp.library) apply false
    alias(libs.plugins.jetBrains.kotlin.gradle) apply false
    alias(libs.plugins.jetBrains.kotlin.jvm) apply false
    alias(libs.plugins.navigation.safeArgs) apply false
    alias(libs.plugins.jetBrains.dokka)
}
buildscript {
    dependencies {
        classpath(libs.jetBrains.dokka.gradle)
        classpath(libs.jetBrains.dokka.android.documentation)
        classpath(libs.jetBrains.dokka.android.gradle)
    }
}
allprojects {
    apply(plugin = rootProject.project.libs.plugins.jetBrains.dokka.get().pluginId)
}

tasks.register("clean", Delete::class) {
    delete(rootProject.buildDir)
}

tasks.dokkaHtmlMultiModule {
    moduleName.set("")
    moduleVersion.set(config.versions.versionName.get())

    pluginConfiguration<DokkaBase, DokkaBaseConfiguration> {
        customAssets = listOf(file("$projectDir/geek-studio.svg"))
        footerMessage =
            config.versions.documentationCommonFooterMessage.get() + "¬© ${Year.now().value} Copyright."
        customStyleSheets =
            listOf(file("$projectDir/logo-style.css"), file("$projectDir/logo-styles.css"))
    }
}
```

**`tasks.dokkaHtmlMultiModule`** –¥–æ—Å—Ç–∞–µ—Ç **`Gradle`** —Ç–∞—Å–∫ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–µ–ª–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:
- moduleName -> –Ω–∞–∑–≤–∞–Ω–∏–µ –≤ **`Header`** —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
- moduleVersion -> –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –≤ **`Header`** —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
- customAssets -> –¥–æ—Å—Ç–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ **`Header`** —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
- footerMessage -> message –≤ **`Footer`**.
- customStyleSheets -> –∫–∞—Å—Ç–æ–º–Ω—ã–µ **`.css`** —Ñ–∞–π–ª—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- logo-style.css- **`.css`** —Ñ–∞–π–ª, –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ logo —Å–≤–µ—Ä—Ö—É –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- logos-style.css - **`.css`** —Ñ–∞–π–ª, –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ logo —Å–≤–µ—Ä—Ö—É –Ω–∞ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
![](https://i.imgur.com/3h5tVEn.png)

–ü—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –º–æ–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ `root` **`build.gradle.kts`** –∏ —ç–∫–∑–µ–∫—å—é—Ç–µ 
```
./gradlew dokkaHtml dokkaHtmlMultiModule
```
–≤—ã —É–≤–∏–¥–µ—Ç–µ —Å–ª–µ–¥—É—é—â–µ–µ:


**`–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞`**
![](https://i.imgur.com/XX2MHLZ.png)
**`–î—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã`**
![](https://i.imgur.com/Li2mwqp.png)

–û–¥–Ω–∞–∫–æ —É –Ω–∞—Å –µ—Å—Ç—å –æ–¥–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞:
–°–µ–π—á–∞—Å –≤—Å–µ –∫–ª–∞—Å—Å—ã –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç —á–µ–≥–æ-—Ç–æ –Ω–∞—Å–ª–µ–¥—É—é—Ç—Å—è, –±—É–¥—É—Ç —É —Å–µ–±—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–º–µ—Ç—å –≤—Å–µ –Ω–∞—Å–ª–µ–¥—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã:

![](https://i.imgur.com/kPVudxq.png)
–ß—Ç–æ–±—ã —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å, –Ω–∞–º –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è `Gradle` —Ç–∞—Å–∫–∞ **`DokkaTaskPartial`**, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –º–æ–¥—É–ª—è.

–î–ª—è —ç—Ç–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ `root` **`build.gradle.kts`** –∏ –∏–∑–º–µ–Ω—è–µ–º –µ–≥–æ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π:

```groovy:build.gradle.kts
import org.gradle.accessors.dm.LibrariesForConfig
import org.jetbrains.dokka.DokkaConfiguration.Visibility
import org.jetbrains.dokka.base.DokkaBase
import org.jetbrains.dokka.base.DokkaBaseConfiguration
import org.jetbrains.dokka.gradle.DokkaTaskPartial
import java.time.Year

val config = the<LibrariesForConfig>()
// Top-level build file where you can add configuration options common to all sub-projects/modules.
plugins {
    alias(libs.plugins.agp.application) apply false
    alias(libs.plugins.agp.library) apply false
    alias(libs.plugins.jetBrains.kotlin.gradle) apply false
    alias(libs.plugins.jetBrains.kotlin.jvm) apply false
    alias(libs.plugins.navigation.safeArgs) apply false
    alias(libs.plugins.jetBrains.dokka)
}
buildscript {
    dependencies {
        classpath(libs.jetBrains.dokka.gradle)
        classpath(libs.jetBrains.dokka.android.documentation)
        classpath(libs.jetBrains.dokka.android.gradle)
    }
}
allprojects {
    apply(plugin = rootProject.project.libs.plugins.jetBrains.dokka.get().pluginId)

    tasks.withType<DokkaTaskPartial>().configureEach {
        suppressInheritedMembers.set(true)
        dokkaSourceSets.configureEach {
            documentedVisibilities.set(
                Visibility.values().toSet()
            )
        }

        pluginConfiguration<DokkaBase, DokkaBaseConfiguration> {
            footerMessage =
                config.versions.documentationCommonFooterMessage.get() + "¬© ${Year.now().value} Copyright."
        }
    }
}

tasks.register("clean", Delete::class) {
    delete(rootProject.buildDir)
}

tasks.dokkaHtmlMultiModule {
    moduleName.set("")
    moduleVersion.set(config.versions.versionName.get())

    pluginConfiguration<DokkaBase, DokkaBaseConfiguration> {
        customAssets = listOf(file("$projectDir/geek-studio.svg"))
        footerMessage =
            config.versions.documentationCommonFooterMessage.get() + "¬© ${Year.now().value} Copyright."
        customStyleSheets =
            listOf(file("$projectDir/logo-style.css"), file("$projectDir/logo-styles.css"))
    }
}
```

**`suppressInheritedMembers.set(true)`** –æ—Ç–∫–ª—é—á–∞–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞—Å–ª–µ–¥—É–µ–º—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

–î–∞–ª–µ–µ –º—ã –æ–ø—è—Ç—å —ç–∫–∑–µ–∫—å—é—Ç–∏–º:
```groovy
./gradlew dokkaHtml dokkaHtmlMultiModule
```

–¢–µ–ø–µ—Ä—å, –∑–∞–π–¥—è –Ω–∞ —Ç—É –∂–µ,—Å—Ç—Ä–∞–Ω–∏—Ü—É, –º—ã —É–≤–∏–¥–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:

![](https://i.imgur.com/WWoMy7q.png)

–¢–µ–ø–µ—Ä—å, –Ω–∞—Å–ª–µ–¥—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ **–Ω–µ –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è** –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –ø–æ—Å–µ—Ç–∏—Ç—å - [Dokka Complete configuration](https://kotlinlang.org/docs/dokka-gradle.html#complete-configuration)
## **Dokka Deep Diving III** - KDoc
–ú—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–ª–∏ **`Dokka`** –∫–∞–∫ –Ω–∞–º –Ω–∞–¥–æ, —Ç–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å —Å–∞–º–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

–î–ª—è —ç—Ç–æ–≥–æ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **`KDoc`**.

**`KDoc`** —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π —è–∑—ã–∫ –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π—Å—è –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ `Kotlin` –∫–æ–¥–∞.

–û–ø–∏—Å–∞–≤ —Ñ—Ä–∞–≥–º–µ–Ω—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º
```kotlin:FooFragment.kt
/**
 * [FooFragment] description
 * @author Timur
 * @since 1.0v
 */
class FooFragment : BaseFragment<FragmentFooBinding, FooViewModel>(R.layout.fragment_foo) {
    override val binding by viewBinding(FragmentFooBinding::bind)
    override val viewModel by viewModels<FooViewModel>()

    override fun constructListeners() {
        searchForFoo()
    }

    /**
     * [searchForFoo] is invoked when user clicks on button
     * then searchFoo is invoked.
     */
    private fun searchForFoo() {
        binding.btnSearch.setOnClickListener {
            viewModel.searchFoo("someFoo")
        }
    }

    /**
     * [launchObservers] spectates fooState,
     * unwrapping it from [com.timplifier.dokka.presentation.ui.state.UIState]
     */
    override fun launchObservers() {
        viewModel.fooState.spectateUiState(success = {
            println(it)
        })
    }
}
```
–≤–æ—Ç —á—Ç–æ —è –ø–æ–ª—É—á—É –≤ –∏—Ç–æ–≥–µ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —á–µ—Ä–µ–∑
```
./gradlew dokkaHtml dokkaHtmlMultiModule
```
![](https://i.imgur.com/xtPbI3C.png)
–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è **—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è #7** –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç —Ç–∞–∫, 
–∫–∞–∫ —è —Å–¥–µ–ª–∞–ª –≤—ã—à–µ, –æ–ø–∏—Å–∞–≤ –∫–∞–∂–¥—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –∫–ª–∞—Å—Å –∏—Å–ø–æ–ª—å–∑—É—è **`KDoc`** –∏ **`Dokka`**. 

[–ü—Ä–æ–µ–∫—Ç –¥–ª—è –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è —Å Dokka –∏ KDoc](https://github.com/Clar1fy/Dokka)

## Technical Task #8 - Material Design :
8 –¢–∞—Å–∫ –±—É–¥–µ—Ç –ø–æ—Å–≤–µ—â–µ–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é –¥–∏–∑–∞–π–Ω—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

`Colorful App` –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –¥–∏–∑–∞–π–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ 1 —Å—Ç–∏–ª—å –∫–æ–º–±–∏–Ω–∏—Ä—É—è —Ü–≤–µ—Ç–∞, –∏–Ω–∞—á–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è —Ä–∞–¥—É–≥–∞)
`Strings.xml` and `Colors.xml` –¢–µ–ø–µ—Ä—å –≤—Å–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Ü–≤–µ—Ç–∞ –¥–æ–ª–∂–Ω—ã –≤ —ç—Ç–∏—Ö —Ñ–∞–π–ª–∞—Ö

`1:`**–°–æ–∑–¥–∞–Ω–∏–µ Splash Screen**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–π –ª–æ–≥–æ—Ç–∏–ø –ø–æ —Ü–µ–Ω—Ç—Ä—É, –∞ —Å –Ω–∏–∑—É –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–µ–∫—Å—Ç - (GeekStudio) (–ù–∏–∂–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø)![](https://i.imgur.com/FOjYKvG.png).


`2:`**–°–æ–∑–¥–∞–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è (On Board) –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
- –ë–æ–ª–µ–µ 3 –≠–∫—Ä–∞–Ω–æ–≤.
- –î–æ–ª–∂–Ω–∞—è –±—ã—Ç—å –∫–Ω–æ–ø–∫–∞ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∏ –≤–ø–µ—Ä–µ–¥(–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –∏ –æ–±—ã—á–Ω—ã–π —Å–≤–∞–π–ø –ø–æ —ç–∫—Ä–∞–Ω—É).
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `lottieFile`
- –ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —é–∑–µ—Ä –ø—Ä–æ–π–¥–µ—Ç –æ–Ω–ë–æ—Ä–¥ –±–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å.

